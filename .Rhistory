stest<-read.table("UCI HAR Dataset/test/subject_test.txt")
strain<-read.table("UCI HAR Dataset/train/subject_train.txt")
alab<-read.table("UCI HAR Dataset/activity_labels.txt")
features<-read.table("UCI HAR Dataset/features.txt")
### Merge training and test sets to create one data set
y<-rbind(ytest,ytrain)
x<-rbind(xtest,xtrain)
s<-rbind(stest,strain)
data<-data.table(s,y,x)
### Labels data set with descriptive variable name
names(data)<-tolower(c("subject","activity",as.character(features[,2])))
### Replace numerical activity ID with descriptive activity ID
i <- 1
for (a in alab$V2) {
data$activity<-gsub(i,alab$V2[[i]],data$activity)
i <- i+1
}
data$activity<-tolower(gsub("_","",data$activity))
data$activity<-gsub("stairs", "", data$activity)
### Extracts measurements on mean and standard deviation
extract<-c(1:2,sort(
c(grep("mean\\(\\)",names(data)),
grep("std\\(\\)",names(data)))))
data<-data[,extract]
names(data)<-tolower(gsub("\\)","",gsub("\\(","",names(data))))
### Create a second, independent tidy data set with
### average of each variable for each activity and each subject
melted<-melt(data,id.vars=c("subject","activity"))
summary<-dcast(melted, activity + subject ~ ... , mean)
names(summary)<-tolower(names(summary))
View(summary)
##write.table(summary, "./summary.txt", row.names = FALSE)
}
run_analysis()
?setnames
run_analysis <- function() {
library(reshape2)
library(dplyr)
library(data.table)
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
if(!("UCI HAR Dataset" %in% list.files())) {
download.file(url, "directory.zip", mode="wb")
unzip("directory.zip")
}
xtrain<-read.table("UCI HAR Dataset/train/X_train.txt")
ytrain<-read.table("UCI HAR Dataset/train/y_train.txt")
ytest<-read.table("UCI HAR Dataset/test/y_test.txt")
xtest<-read.table("UCI HAR Dataset/test/X_test.txt")
stest<-read.table("UCI HAR Dataset/test/subject_test.txt")
strain<-read.table("UCI HAR Dataset/train/subject_train.txt")
alab<-read.table("UCI HAR Dataset/activity_labels.txt")
features<-read.table("UCI HAR Dataset/features.txt")
### Merge training and test sets to create one data set
y<-rbind(ytest,ytrain)
x<-rbind(xtest,xtrain)
s<-rbind(stest,strain)
data<-data.table(s,y,x)
setnames(data, tolower(c("subject","activity",as.character(features[,2]))))
### Labels data set with descriptive variable name
### Replace numerical activity ID with descriptive activity ID
i <- 1
for (a in alab$V2) {
data$activity<-gsub(i,alab$V2[[i]],data$activity)
i <- i+1
}
data$activity<-tolower(gsub("_","",data$activity))
data$activity<-gsub("stairs", "", data$activity)
### Extracts measurements on mean and standard deviation
extract<-c(1:2,sort(
c(grep("mean\\(\\)",names(data)),
grep("std\\(\\)",names(data)))))
data<-data[,extract]
names(data)<-tolower(gsub("\\)","",gsub("\\(","",names(data))))
### Create a second, independent tidy data set with
### average of each variable for each activity and each subject
melted<-melt(data,id.vars=c("subject","activity"))
summary<-dcast(melted, activity + subject ~ ... , mean)
names(summary)<-tolower(names(summary))
View(summary)
##write.table(summary, "./summary.txt", row.names = FALSE)
}
?setnames
run_analysis()
run_analysis <- function() {
library(reshape2)
library(dplyr)
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
if(!("UCI HAR Dataset" %in% list.files())) {
download.file(url, "directory.zip", mode="wb")
unzip("directory.zip")
}
xtrain<-read.table("UCI HAR Dataset/train/X_train.txt")
ytrain<-read.table("UCI HAR Dataset/train/y_train.txt")
ytest<-read.table("UCI HAR Dataset/test/y_test.txt")
xtest<-read.table("UCI HAR Dataset/test/X_test.txt")
stest<-read.table("UCI HAR Dataset/test/subject_test.txt")
strain<-read.table("UCI HAR Dataset/train/subject_train.txt")
alab<-read.table("UCI HAR Dataset/activity_labels.txt")
features<-read.table("UCI HAR Dataset/features.txt")
### Merge training and test sets to create one data set
y<-rbind(ytest,ytrain)
x<-rbind(xtest,xtrain)
s<-rbind(stest,strain)
data<-data.frame(s,y,x)
### Labels data set with descriptive variable name
names(data)<-tolower(c("subject","activity",as.character(features[,2])))
### Replace numerical activity ID with descriptive activity ID
i <- 1
for (a in alab$V2) {
data$activity<-gsub(i,alab$V2[[i]],data$activity)
i <- i+1
}
data$activity<-tolower(gsub("_","",data$activity))
data$activity<-gsub("stairs", "", data$activity)
### Extracts measurements on mean and standard deviation
extract<-c(1:2,sort(
c(grep("mean\\(\\)",names(data)),
grep("std\\(\\)",names(data)))))
data<-data[,extract]
names(data)<-tolower(gsub("\\)","",gsub("\\(","",names(data))))
names(data)<-gsub("mean","Mean",gsub("std","Std",names(data)))
names(data)<-gsub("\\-","",names(data))
### Create a second, independent tidy data set with
### average of each variable for each activity and each subject
melted<-melt(data,id.vars=c("subject","activity"))
summary<-dcast(melted, activity + subject ~ ... , mean)
names(summary)<-tolower(names(summary))
##write.table(summary, "./summary.txt", row.names = FALSE)
}
run_analysis()
run_analysis <- function() {
library(reshape2)
library(dplyr)
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
if(!("UCI HAR Dataset" %in% list.files())) {
download.file(url, "directory.zip", mode="wb")
unzip("directory.zip")
}
xtrain<-read.table("UCI HAR Dataset/train/X_train.txt")
ytrain<-read.table("UCI HAR Dataset/train/y_train.txt")
ytest<-read.table("UCI HAR Dataset/test/y_test.txt")
xtest<-read.table("UCI HAR Dataset/test/X_test.txt")
stest<-read.table("UCI HAR Dataset/test/subject_test.txt")
strain<-read.table("UCI HAR Dataset/train/subject_train.txt")
alab<-read.table("UCI HAR Dataset/activity_labels.txt")
features<-read.table("UCI HAR Dataset/features.txt")
### Merge training and test sets to create one data set
y<-rbind(ytest,ytrain)
x<-rbind(xtest,xtrain)
s<-rbind(stest,strain)
data<-data.frame(s,y,x)
### Labels data set with descriptive variable name
names(data)<-tolower(c("subject","activity",as.character(features[,2])))
### Replace numerical activity ID with descriptive activity ID
i <- 1
for (a in alab$V2) {
data$activity<-gsub(i,alab$V2[[i]],data$activity)
i <- i+1
}
data$activity<-tolower(gsub("_","",data$activity))
data$activity<-gsub("stairs", "", data$activity)
### Extracts measurements on mean and standard deviation
extract<-c(1:2,sort(
c(grep("mean\\(\\)",names(data)),
grep("std\\(\\)",names(data)))))
data<-data[,extract]
names(data)<-tolower(gsub("\\)","",gsub("\\(","",names(data))))
names(data)<-gsub("mean","Mean",names(data))
names(data)<-gsub("std","Std",names(data))
names(data)<-gsub("\\-","",names(data))
### Create a second, independent tidy data set with
### average of each variable for each activity and each subject
melted<-melt(data,id.vars=c("subject","activity"))
summary<-dcast(melted, activity + subject ~ ... , mean)
names(summary)<-tolower(names(summary))
##write.table(summary, "./summary.txt", row.names = FALSE)
}
View(summary)
View(summary)
run_analysis <- function() {
library(reshape2)
library(dplyr)
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
if(!("UCI HAR Dataset" %in% list.files())) {
download.file(url, "directory.zip", mode="wb")
unzip("directory.zip")
}
xtrain<-read.table("UCI HAR Dataset/train/X_train.txt")
ytrain<-read.table("UCI HAR Dataset/train/y_train.txt")
ytest<-read.table("UCI HAR Dataset/test/y_test.txt")
xtest<-read.table("UCI HAR Dataset/test/X_test.txt")
stest<-read.table("UCI HAR Dataset/test/subject_test.txt")
strain<-read.table("UCI HAR Dataset/train/subject_train.txt")
alab<-read.table("UCI HAR Dataset/activity_labels.txt")
features<-read.table("UCI HAR Dataset/features.txt")
### Merge training and test sets to create one data set
y<-rbind(ytest,ytrain)
x<-rbind(xtest,xtrain)
s<-rbind(stest,strain)
data<-data.frame(s,y,x)
### Labels data set with descriptive variable name
names(data)<-tolower(c("subject","activity",as.character(features[,2])))
### Replace numerical activity ID with descriptive activity ID
i <- 1
for (a in alab$V2) {
data$activity<-tolower(gsub(i,alab$V2[[i]],data$activity))
i <- i+1
}
data$activity<-gsub("_","",data$activity)
data$activity<-gsub("stairs", "", data$activity)
### Extracts measurements on mean and standard deviation
extract<-c(1:2,sort(
c(grep("mean\\(\\)",names(data)),
grep("std\\(\\)",names(data)))))
data<-data[,extract]
names(data)<-tolower(gsub("\\)","",gsub("\\(","",names(data))))
### Create a second, independent tidy data set with
### average of each variable for each activity and each subject
melted<-melt(data,id.vars=c("subject","activity"))
summary<-dcast(melted, activity + subject ~ ... , mean)
names(summary)<-tolower(names(summary))
##write.table(summary, "./summary.txt", row.names = FALSE)
}
run_analysis()
View(summary)
run_analysis <- function() {
library(reshape2)
library(dplyr)
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
if(!("UCI HAR Dataset" %in% list.files())) {
download.file(url, "directory.zip", mode="wb")
unzip("directory.zip")
}
xtrain<-read.table("UCI HAR Dataset/train/X_train.txt")
ytrain<-read.table("UCI HAR Dataset/train/y_train.txt")
ytest<-read.table("UCI HAR Dataset/test/y_test.txt")
xtest<-read.table("UCI HAR Dataset/test/X_test.txt")
stest<-read.table("UCI HAR Dataset/test/subject_test.txt")
strain<-read.table("UCI HAR Dataset/train/subject_train.txt")
alab<-read.table("UCI HAR Dataset/activity_labels.txt")
features<-read.table("UCI HAR Dataset/features.txt")
### Merge training and test sets to create one data set
y<-rbind(ytest,ytrain)
x<-rbind(xtest,xtrain)
s<-rbind(stest,strain)
data<-data.frame(s,y,x)
### Labels data set with descriptive variable name
names(data)<-tolower(c("subject","activity",as.character(features[,2])))
### Replace numerical activity ID with descriptive activity ID
i <- 1
alab$V2<-gsub("\\_","",alab$V2)
alab$V2<-gsub("stairs","",alab$V2)
alab$V2<-tolower(alab$V2)
for (a in alab$V2) {
data$activity<-gsub(i,alab$V2[[i]],data$activity)
i <- i+1
}
### Extracts measurements on mean and standard deviation
extract<-c(1:2,sort(
c(grep("mean\\(\\)",names(data)),
grep("std\\(\\)",names(data)))))
data<-data[,extract]
names(data)<-tolower(gsub("\\)","",gsub("\\(","",names(data))))
### Create a second, independent tidy data set with
### average of each variable for each activity and each subject
melted<-melt(data,id.vars=c("subject","activity"))
summary<-dcast(melted, activity + subject ~ ... , mean)
names(summary)<-tolower(names(summary))
##write.table(summary, "./summary.txt", row.names = FALSE)
}
run_analysis()
View(summary)
?gsub
run_analysis <- function() {
library(reshape2)
library(dplyr)
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
if(!("UCI HAR Dataset" %in% list.files())) {
download.file(url, "directory.zip", mode="wb")
unzip("directory.zip")
}
xtrain<-read.table("UCI HAR Dataset/train/X_train.txt")
ytrain<-read.table("UCI HAR Dataset/train/y_train.txt")
ytest<-read.table("UCI HAR Dataset/test/y_test.txt")
xtest<-read.table("UCI HAR Dataset/test/X_test.txt")
stest<-read.table("UCI HAR Dataset/test/subject_test.txt")
strain<-read.table("UCI HAR Dataset/train/subject_train.txt")
alab<-read.table("UCI HAR Dataset/activity_labels.txt")
features<-read.table("UCI HAR Dataset/features.txt")
### Merge training and test sets to create one data set
y<-rbind(ytest,ytrain)
x<-rbind(xtest,xtrain)
s<-rbind(stest,strain)
data<-data.frame(s,y,x)
### Labels data set with descriptive variable name
names(data)<-tolower(c("subject","activity",as.character(features[,2])))
### Replace numerical activity ID with descriptive activity ID
i <- 1
alab$V2<-gsub("_","",alab$V2)
alab$V2<-gsub("stairs","",alab$V2,fixed=TRUE)
alab$V2<-tolower(alab$V2)
for (a in alab$V2) {
data$activity<-gsub(i,alab$V2[[i]],data$activity)
i <- i+1
}
### Extracts measurements on mean and standard deviation
extract<-c(1:2,sort(
c(grep("mean\\(\\)",names(data)),
grep("std\\(\\)",names(data)))))
data<-data[,extract]
names(data)<-tolower(gsub("\\)","",gsub("\\(","",names(data))))
### Create a second, independent tidy data set with
### average of each variable for each activity and each subject
melted<-melt(data,id.vars=c("subject","activity"))
summary<-dcast(melted, activity + subject ~ ... , mean)
names(summary)<-tolower(names(summary))
##write.table(summary, "./summary.txt", row.names = FALSE)
}
run_analysis()
View(summary)
View(summary)
xtrain<-read.table("UCI HAR Dataset/train/X_train.txt")
ytrain<-read.table("UCI HAR Dataset/train/y_train.txt")
ytest<-read.table("UCI HAR Dataset/test/y_test.txt")
xtest<-read.table("UCI HAR Dataset/test/X_test.txt")
stest<-read.table("UCI HAR Dataset/test/subject_test.txt")
strain<-read.table("UCI HAR Dataset/train/subject_train.txt")
alab<-read.table("UCI HAR Dataset/activity_labels.txt")
features<-read.table("UCI HAR Dataset/features.txt")
y<-rbind(ytest,ytrain)
x<-rbind(xtest,xtrain)
s<-rbind(stest,strain)
data<-data.frame(s,y,x)
names(data)<-tolower(c("subject","activity",as.character(features[,2])))
i <- 1
alab$V2<-gsub("_","",alab$V2)
alab$V2<-gsub("stairs","",alab$V2,fixed=TRUE)
alab$V2<-tolower(alab$V2)
for (a in alab$V2) {
data$activity<-gsub(i,alab$V2[[i]],data$activity)
i <- i+1
}
View(data)
i <- 1
alab$V2<-gsub("_","",alab$V2)
alab$V2<-gsub("stairs","",alab$V2)
alab$V2<-tolower(alab$V2)
for (a in alab$V2) {
data$activity<-gsub(i,alab$V2[[i]],data$activity)
i <- i+1
}
View(data)
View(alab)
for (a in alab$V2) {
data$activity<-gsub(i,alab$V2[[i]],data$activity)
i <- i+1
}
rm(list-ls())
rm(list=ls())
xtrain<-read.table("UCI HAR Dataset/train/X_train.txt")
ytrain<-read.table("UCI HAR Dataset/train/y_train.txt")
ytest<-read.table("UCI HAR Dataset/test/y_test.txt")
xtest<-read.table("UCI HAR Dataset/test/X_test.txt")
stest<-read.table("UCI HAR Dataset/test/subject_test.txt")
strain<-read.table("UCI HAR Dataset/train/subject_train.txt")
alab<-read.table("UCI HAR Dataset/activity_labels.txt")
features<-read.table("UCI HAR Dataset/features.txt")
y<-rbind(ytest,ytrain)
x<-rbind(xtest,xtrain)
s<-rbind(stest,strain)
data<-data.frame(s,y,x)
names(data)<-tolower(c("subject","activity",as.character(features[,2])))
i <- 1
alab$V2<-gsub("_","",alab$V2)
alab$V2<-gsub("stairs","",alab$V2)
alab$V2<-tolower(alab$V2)
View(alab)
alab$V2<-gsub("stairs","",alab$V2)
View(alab)
for (a in alab$V2) {
data$activity<-gsub(i,alab$V2[[i]],data$activity)
i <- i+1
}
View(data)
extract<-c(1:2,sort(
c(grep("mean\\(\\)",names(data)),
grep("std\\(\\)",names(data)))))
data<-data[,extract]
View(data)
data<-data[,extract]
names(data)<-tolower(gsub("\\)","",gsub("\\(","",names(data))))
names(data)<-tolower(gsub("\\)","",gsub("\\(","",names(data))))
View(data)
names(data)<-gsub("mean","Mean",names(data))
View(data)
names(data)<-gsub("std","Std",names(data))
View(data)
names(data)<-gsub("-X","X",names(data))
View(data)
names(data)<-gsub("\\-X","X",names(data))
View(data)
names(data)<-gsub("\\-x","X",names(data))
View(data)
names(data)<-gsub("\\-y","Y",names(data))
names(data)<-gsub("\\-z","Z",names(data))
View(data)
rm(list=ls())
run_analysis <- function() {
library(reshape2)
library(dplyr)
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
if(!("UCI HAR Dataset" %in% list.files())) {
download.file(url, "directory.zip", mode="wb")
unzip("directory.zip")
}
xtrain<-read.table("UCI HAR Dataset/train/X_train.txt")
ytrain<-read.table("UCI HAR Dataset/train/y_train.txt")
ytest<-read.table("UCI HAR Dataset/test/y_test.txt")
xtest<-read.table("UCI HAR Dataset/test/X_test.txt")
stest<-read.table("UCI HAR Dataset/test/subject_test.txt")
strain<-read.table("UCI HAR Dataset/train/subject_train.txt")
alab<-read.table("UCI HAR Dataset/activity_labels.txt")
features<-read.table("UCI HAR Dataset/features.txt")
### Merge training and test sets to create one data set
y<-rbind(ytest,ytrain)
x<-rbind(xtest,xtrain)
s<-rbind(stest,strain)
data<-data.frame(s,y,x)
### Labels data set with descriptive variable name
names(data)<-tolower(c("subject","activity",as.character(features[,2])))
### Replace numerical activity ID with descriptive activity ID
i <- 1
alab$V2<-tolower(alab$V2)
alab$V2<-gsub("_","",alab$V2)
alab$V2<-gsub("stairs","",alab$V2)
for (a in alab$V2) {
data$activity<-gsub(i,alab$V2[[i]],data$activity)
i <- i+1
}
### Extracts measurements on mean and standard deviation
extract<-c(1:2,sort(
c(grep("mean\\(\\)",names(data)),
grep("std\\(\\)",names(data)))))
data<-data[,extract]
names(data)<-tolower(gsub("\\)","",gsub("\\(","",names(data))))
names(data)<-gsub("mean","Mean",names(data))
names(data)<-gsub("std","Std",names(data))
names(data)<-gsub("\\-x","X",names(data))
names(data)<-gsub("\\-y","Y",names(data))
names(data)<-gsub("\\-z","Z",names(data))
names(data)<-gsub("\\-","",names(data))
### Create a second, independent tidy data set with
### average of each variable for each activity and each subject
melted<-melt(data,id.vars=c("subject","activity"))
summary<-dcast(melted, activity + subject ~ ... , mean)
names(summary)<-tolower(names(summary))
View(summary)
##write.table(summary, "./summary.txt", row.names = FALSE)
}
run_analysis()
run_analysis <- function() {
library(reshape2)
library(dplyr)
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
if(!("UCI HAR Dataset" %in% list.files())) {
download.file(url, "directory.zip", mode="wb")
unzip("directory.zip")
}
xtrain<-read.table("UCI HAR Dataset/train/X_train.txt")
ytrain<-read.table("UCI HAR Dataset/train/y_train.txt")
ytest<-read.table("UCI HAR Dataset/test/y_test.txt")
xtest<-read.table("UCI HAR Dataset/test/X_test.txt")
stest<-read.table("UCI HAR Dataset/test/subject_test.txt")
strain<-read.table("UCI HAR Dataset/train/subject_train.txt")
alab<-read.table("UCI HAR Dataset/activity_labels.txt")
features<-read.table("UCI HAR Dataset/features.txt")
### Merge training and test sets to create one data set
y<-rbind(ytest,ytrain)
x<-rbind(xtest,xtrain)
s<-rbind(stest,strain)
data<-data.frame(s,y,x)
### Labels data set with descriptive variable name
names(data)<-tolower(c("subject","activity",as.character(features[,2])))
### Replace numerical activity ID with descriptive activity ID
i <- 1
alab$V2<-tolower(alab$V2)
alab$V2<-gsub("_","",alab$V2)
alab$V2<-gsub("stairs","",alab$V2)
for (a in alab$V2) {
data$activity<-gsub(i,alab$V2[[i]],data$activity)
i <- i+1
}
### Extracts measurements on mean and standard deviation
extract<-c(1:2,sort(
c(grep("mean\\(\\)",names(data)),
grep("std\\(\\)",names(data)))))
data<-data[,extract]
names(data)<-tolower(gsub("\\)","",gsub("\\(","",names(data))))
names(data)<-gsub("mean","Mean",names(data))
names(data)<-gsub("std","Std",names(data))
names(data)<-gsub("\\-x","X",names(data))
names(data)<-gsub("\\-y","Y",names(data))
names(data)<-gsub("\\-z","Z",names(data))
names(data)<-gsub("\\-","",names(data))
### Create a second, independent tidy data set with
### average of each variable for each activity and each subject
melted<-melt(data,id.vars=c("subject","activity"))
summary<-dcast(melted, activity + subject ~ ... , mean)
write.table(summary, "./summary.txt", row.names = FALSE)
}
run_analysis()
View(read.table("summary.txt",header=TRUE))
